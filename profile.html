<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy"
    content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';">
  <meta name="description"
    content="premium Store from trusted global brands at Blue Ember Store. Find energy-efficient refrigerators, washers, air conditioners, microwaves and more with expert installation and support.">
  <meta name="keywords"
    content="Store, refrigerators, washing machines, air conditioners, microwaves, dishwashers, energy efficient appliances, appliance store">
  <meta name="author" content="Blue Ember Store">
  <link rel="icon" type="image/png" href="assets/favicon.png" style="border-radius: 50%;">
  <title>My Profile - Blue Ember Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="universal.css" rel="stylesheet">
  <link href="home.css" rel="stylesheet">
  <link href="darkmode.css" rel="stylesheet">
  <link href="navbar.css" rel="stylesheet">
  <link href="mobile-sidebar.css" rel="stylesheet">
  <link href="account.css" rel="stylesheet">
  <link rel="stylesheet" href="product.css">

  <script src="js/cart.js" defer></script>
  <script src="js/cart-manager.js" defer></script>
  <script src="js/navigation.js" defer></script>
  <script src="js/dollar-font.js" defer></script>
  <script src="js/checkout.js"></script>
  <script src="js/search-integration.js"></script>
  <script src="js/darkmode.js" defer></script>
  <script src="js/app.js" defer></script>
  <script src="js/db-client.js"></script>

  <!-- Logout Modal Script (MUST load first to avoid conflicts) -->
  <script src="js/logout-modal.js"></script>

  <script src="js/profile-dropdown.js" defer></script>
  <script src="js/logout-injector.js" defer></script>
  <script src="js/profile.js" defer></script>
  <script>
    // Simple Auth Check for Navbar
    document.addEventListener('dbReady', async () => {
      const { data: { user } } = await DB.getUser();
      if (user) {
        // Update Login Links to Profile
        document.querySelectorAll('a[href="login.html"]').forEach(link => {
          link.textContent = 'My Profile';
          link.href = 'profile.html';
          link.innerHTML = '<i class="fas fa-user-circle"></i> My Profile';
        });
      }
    });
  </script>
  <link href="RESPONSIVENESS.css" rel="stylesheet">
  <link href='https://cdn.boxicons.com/3.0.6/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    /* Media query for max-width: 700px - Space for manual editing */
    @media (max-width: 700px) {
      .hero-images .hero-img {
        height: 285PX;
        POSITION: RELATIVE;
        TOP: -13PX;
      }
    }

    @media (max-width: 480px) {
      .hero-images .hero-img {
        height: 270PX;
        POSITION: RELATIVE;
        TOP: -30PX;
      }

      body {
        padding: 0px;
      }

      .search-container::before,
      .search-container::after {
        inset: -2px !important;
      }

      .search-input {
        margin: 0px -35px 0px 0px !important;
      }

      .search-button {
        right: -8px !important;
      }

      .search-button i {
        padding: 8px 19px 8px 19px !important;
      }
    }

    /* --- Animated Search Bar Styles --- */
    /* Define the Angle Property for smooth rotation */
    @property --angle {
      syntax: '<angle>';
      initial-value: 0deg;
      inherits: false;
    }

    /* The Animated RGB Border & Glow */
    .search-container::before,
    .search-container::after {
      content: '';
      position: absolute;
      /* Negative inset controls border thickness */
      inset: -3px;
      border-radius: 50px;
      z-index: -1;
      /* YOUR SPECIFIC COLORS */
      background: conic-gradient(from var(--angle), #0099ff, #0099ff, #01e8bc, #01e8bc, #0099ff);
      /* Start Hidden */
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    /* Special Blur for the Shadow (::after) */
    .search-container::after {
      filter: blur(25px);
      z-index: -2;
    }

    /* Animation Triggers (Hover AND Click/Focus) */
    /* When Hovering OR When Input is Focused (Clicked) */
    .search-container:hover::before,
    .search-container:hover::after,
    .search-container:focus-within::before,
    .search-container:focus-within::after {
      opacity: 1;
      animation: spin-clockwise 10s linear infinite;
    }

    /* The Input Field */
    .search-input {
      height: 100%;
      border: none;
      outline: none;
      position: relative;
      z-index: 501;
      background: #ffffff;
      border-radius: 50px;
      margin: 0px -30px 0px 0px;
      padding: 0 15px 0 15px;
      font-size: 18px;
      color: #000000;
      box-shadow: inset 0 0 0 1px #000000;
      transition: box-shadow 0.3s ease;


    }

    .search-input::placeholder {
      color: #008080;
      /* Teal Placeholder */
      opacity: 0.7;
    }

    /* Hide the static Teal border when the animated border is active */
    .search-container:hover .search-input,
    .search-container:focus-within .search-input {
      box-shadow: inset 0 0 0 0 transparent;
    }

    /* Search Icon */
    .search-button {
      position: relative;
      right: -6px;
      width: 103px;
      height: 65px;
      pointer-events: auto;
      background: #0099ff;
      border: none;
      padding: 16px 19px 15px 40px;
    }

    .search-button i {
      fill: #008080;
      margin: 16px;
      padding: 11px 22px 11px 22px;
      align-self: center;
      border-radius: 25px;
      display: table;
      background: #ffffff8a;
      transition: color 0.3s ease;
    }

    /* Make icon black when typing */
    .search-container:focus-within .search-button i {
      color: #000000;
    }

    /* The Animation Keyframes */
    @keyframes spin-clockwise {
      0% {
        --angle: 0deg;
      }

      100% {
        --angle: 360deg;
      }
    }

    /* Override existing search-container styles */
    .search-container {
      position: relative;
      width: 400px;
      min-width: 200px;
      height: 50px;
      border-radius: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1;
      padding: 0;
      /* Remove existing padding */
    }

    .search-container form {
      width: 100%;
      height: 100%;
      position: relative;
    }

    @media (max-width: 480px) {
      .navbar-logo {
        width: 57px !important;
        height: 5px !important;
        scale: 0.6 !important;
      }

      .search-container {
        height: 44px !important;
        width: 220px;
        display: none;
      }

      .search-input {
        padding: 0 15px 0 10px !important;
      }
    }

    /* Mobile Dropdown */
    .mobile-dropdown-item {
      position: relative;

      &::after {
        box-shadow: inset 0 0 0 1px red !important;
      }

      &::before {
        background: red;
        box-shadow: inset 0 0 0 1px #ffffff !important;
      }

      &:hover::before {
        box-shadow: inset 0 0 0 1px #ffffff !important;
      }
    }

    .mobile-dropdown {
      display: none;
      list-style: none;
      padding-left: 0;
      margin: 8px 0 0;
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.9s ease-in-out;
    }

    .mobile-dropdown-item.active .mobile-dropdown {
      display: block;
      transition: max-height 0.9s ease-in-out;
      max-height: 500px;
    }

    /* Enhanced Split Button & Dropdown Theme */
    .split-button {
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.5);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    }

    .split-button.single-toggle-action:before {
      transform: scaleX(1.015) scaleY(1.035) perspective(1px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.5) inset;
      transition: transform .2s cubic-bezier(.345, .115, .135, 1.42), opacity .15s ease-out;
    }

    .split-button:hover {
      box-shadow: 0 8px 15px rgba(0, 153, 255, 0.15) !important;
      border-color: rgba(0, 153, 255, 0.3);
      transform: translateY(-1px);

      .split-button-content {
        color: #0064e7 !important;
      }

      .split-button-content i {
        color: #0099ff !important;
      }
    }

    .split-button-right {
      border-left: 1px solid rgba(0, 0, 0, 0.06);
      position: relative;
      overflow: hidden;
      color: #1e293b;
    }

    .split-button-right::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #0099ff, #00c11b);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 0;
    }

    .split-button-right:hover::before {
      opacity: 0.1;
    }

    .split-button-right i {
      z-index: 1;
      position: relative;
      transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }

    .split-button-right:hover i {
      color: #0099ff;
    }

    /* Update for Single Toggle Button */
    .split-button.single-toggle-action {
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0;
    }

    .split-button.single-toggle-action:active {
      transform: scale(0.98);
    }

    .split-button-content {
      display: flex;
      align-items: center;
      padding: 10px 0px 10px 6px;
      flex-grow: 1;
      font-weight: bold;
      color: #1e293b;
      gap: 0px;
    }

    .split-button-content i {
      color: #8f8e8e;
      font-size: 13px;
    }

    .split-button-icon {
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s ease;
    }

    /* Remove the split border */
    .split-button.single-toggle-action .split-button-right,
    .split-button.single-toggle-action .split-button-icon {
      border-left: none;
      background: transparent;
    }

    /* Hover effect for the whole button */
    .split-button.single-toggle-action:hover {
      background: rgba(255, 255, 255, 0.95);
    }

    /* Rotate icon when expanded */
    .split-button.single-toggle-action[aria-expanded="true"] .split-button-icon i {
      transform: rotate(180deg);
    }

    /* Ensure existing split-button styles don't conflict */
    .split-button.single-toggle-action .split-button-content {
      cursor: pointer;
    }

    /* Desktop Dropdown Specifics */
    @media (min-width: 993px) {
      .navbar .mobile-dropdown {
        position: absolute;
        top: 56px;
        left: 50%;
        transform: translateX(-50%) translateY(10px);
        width: 200px;
        background: rgb(255 255 255);
        backdrop-filter: blur(20px);
        border-radius: 19px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.5) inset;
        padding: 10px;
        opacity: 0;
        visibility: hidden;
        overflow: visible;
        display: block !important;
        max-height: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1100;
      }

      .navbar .mobile-dropdown-item.active .mobile-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
      }

      .navbar .mobile-dropdown::before {
        content: '';
        position: absolute;
        top: -16px;
        left: 50%;
        transform: translateX(-50%);
        width: 32px;
        height: 32px;
        background-color: #ffffff;
        /* Curved 4-point star (Sparkle) shape using SVG mask */
        -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 0C12 8 20 12 24 12C20 12 12 20 12 24C12 20 4 12 0 12C4 12 12 8 12 0Z'/%3E%3C/svg%3E");
        mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 0C12 8 20 12 24 12C20 12 12 20 12 24C12 20 4 12 0 12C4 12 12 8 12 0Z'/%3E%3C/svg%3E");
        -webkit-mask-size: contain;
        mask-size: contain;
        -webkit-mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        /* Use drop-shadow filter since mask clips box-shadow */
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        clip-path: none;
        mix-blend-mode: darken;
        box-shadow: none;
      }

      .navbar .mobile-dropdown li {
        margin: 0;
      }

      .navbar .mobile-dropdown a {
        background: transparent;
        color: #334155;
        font-weight: 500;
        padding: 10px 15px;
        border-radius: 10px;
        text-align: left;
        border: none;
        display: block;
      }

      .navbar .mobile-dropdown a:hover {
        background: rgba(0, 153, 255, 0.08);
        color: #0099ff;
        padding-left: 20px;
      }
    }

    .profile-dropdown-container {
      list-style: none;
      position: absolute !important;
      top: 10vh;
      right: 72px;
      z-index: 1000;
      background: white;
      border-radius: 20px;
      padding: 0px;
      box-shadow: 0px 24px 25px -2px rgba(0, 0, 0, 0.1);
      display: none;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .profile-dropdown-container.active {
      display: block;
    }

    .profile-dropdown-container.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Force inner dropdown to be visible and static within the container */
    .profile-dropdown-container .profile-dropdown {
      position: static;
      opacity: 1;
      border-radius: 20px;
      visibility: visible;
      transform: none;
      box-shadow: none;
      overflow: hidden;
      background: transparent;
      padding: 0;
      width: 100%;
      min-width: 260px;
    }

    .profile-dropdown-list {
      justify-items: flex-start;
      padding-top: 5px;
    }

    .profile-dropdown-divider {
      border: 1px solid #80808038;
    }

    .profile-icon-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid #33333367;
      background: grey;

    }

    .profile-icon-placeholder {
      color: #ffffff;
      font-size: 20px;
      margin: 10px;
    }

    .profile-icon-img {
      width: 40px;
      height: 40px;
      object-fit: cover;
      border-radius: 120%;
    }

    /* Profile Dropdown Header Styles */
    .profile-header {
      padding: 15px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .profile-info {
      display: flex;
      flex-direction: column;
    }

    .profile-name {
      font-weight: 600;
      color: #333;
      margin: 0;
      font-size: 16px;
      line-height: 1.2;
    }

    .profile-email {
      color: #666;
      font-size: 13px;
      margin: 4px 0 0 0;
      line-height: 1.2;
    }

    /* Dark Mode Overrides */
    body.dark-mode .profile-header {
      border-bottom-color: var(--dm-border, #444);
    }

    body.dark-mode .profile-name {
      color: var(--dm-text-primary, #fff);
    }

    /* Dark Mode Overrides */
    body.dark-mode .profile-header {
      border-bottom-color: var(--dm-border, #444);
    }

    body.dark-mode .profile-name {
      color: var(--dm-text-primary, #fff);
    }

    body.dark-mode .profile-email {
      color: var(--dm-text-secondary, #aaa);
    }

    /* Added for Profile Image in Dropdown Header */
    #dropdownHeaderImg {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 1px solid #ddd;
    }

    /* Mobile Sidebar Profile Styles */
    .header-profile {
      display: none;
      /* Hidden by default */
      align-items: center;
      gap: 6px;
      padding: 15px 0px 15px 4px;
      cursor: pointer;
      scale: 1.05;
      border-radius: 8px;
      transition: background-color 0.2s;
      width: 100%;
    }


    .header-profile:hover {
      background-color: rgba(0, 0, 0, 0.05);
      /* Subtle hover */
    }

    body.dark-mode .header-profile:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    #navbar-avatar-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #0099ff;
      /* Branded border */
    }

    .header-profile .user-info {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .header-profile .user-name {
      font-weight: 600;
      font-size: 16px;
      color: #333;
      line-height: 1.2;
    }

    body.dark-mode .header-profile .user-name {
      color: #fff;
    }

    .header-profile .user-email {
      font-size: 13px;
      color: #666;
      line-height: 1.2;
    }

    body.dark-mode .header-profile .user-email {
      color: #bbb;
    }

    /* Ensure Dropdown is above sidebar */
    .profile-dropdown-container {
      z-index: 2100 !important;
      /* Higher than typical mobile menu z-index */
    }

    .thebigthree-btns-wrapper {
      display: flex;
      align-items: center;
      border-radius: 50px;
      border: 1px solid #414141;
      padding: 0px 4px 0px 0px;
    }

    .profile-dropdown-container::before {
      content: '';
      position: absolute;
      top: -16px;
      left: 88%;
      transform: translateX(-50%);
      width: 32px;
      height: 32px;
      background-color: #ffffff;
      -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 0C12 8 20 12 24 12C20 12 12 20 12 24C12 20 4 12 0 12C4 12 12 8 12 0Z'/%3E%3C/svg%3E");
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 0C12 8 20 12 24 12C20 12 12 20 12 24C12 20 4 12 0 12C4 12 12 8 12 0Z'/%3E%3C/svg%3E");
      -webkit-mask-size: contain;
      mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
      clip-path: none;
      mix-blend-mode: darken;
      box-shadow: none;
    }

    /* Newsletter Container Styles - Original Design from home.css */
    .newsletter-form {
      display: flex;
      max-width: 500px;
      align-items: center;
      margin: 0 auto;
    }

    .newsletter-form input {
    flex: 1;
    padding: 16px 16px;
    border: none;
    width: 200px;
    border-radius: 50px 0 0 50px;
    font-size: 16px;
}

    .newsletter-form button {
      background: linear-gradient(90deg, #0099ff, #1f6ed6);
      color: white;
      border: none;
      padding: 18px 9px;
      border-radius: 0 50px 50px 0;
      font-weight: 600;
      font-family: 'Rubik', sans-serif;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .newsletter-form button .btn-text {
      display: flex;
      align-items: center;
      gap: 8px;
      transition: opacity 0.3s ease;
    }

    .newsletter-form button .custom-spinner {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .newsletter-form button.loading .btn-text {
      opacity: 0;
    }

    .newsletter-form button.loading .custom-spinner {
      display: block;
    }

    /* Spinner Animation */
    .custom-spinner .spinner {
      font-size: 28px;
      position: relative;
      display: inline-block;
      width: 1em;
      height: 1em;
    }

    .custom-spinner .spinner.center {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      margin: auto;
    }

    .custom-spinner .spinner .spinner-blade {
      position: absolute;
      left: 0.4629em;
      bottom: 0;
      width: 0.074em;
      height: 0.2777em;
      border-radius: 0.0555em;
      background-color: transparent;
      -webkit-transform-origin: center -0.2222em;
      -ms-transform-origin: center -0.2222em;
      transform-origin: center -0.2222em;
      animation: spinner-fade9234 1s infinite linear;
    }

    .custom-spinner .spinner .spinner-blade:nth-child(1) {
      -webkit-animation-delay: 0s;
      animation-delay: 0s;
      -webkit-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      transform: rotate(0deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(2) {
      -webkit-animation-delay: 0.083s;
      animation-delay: 0.083s;
      -webkit-transform: rotate(30deg);
      -ms-transform: rotate(30deg);
      transform: rotate(30deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(3) {
      -webkit-animation-delay: 0.166s;
      animation-delay: 0.166s;
      -webkit-transform: rotate(60deg);
      -ms-transform: rotate(60deg);
      transform: rotate(60deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(4) {
      -webkit-animation-delay: 0.249s;
      animation-delay: 0.249s;
      -webkit-transform: rotate(90deg);
      -ms-transform: rotate(90deg);
      transform: rotate(90deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(5) {
      -webkit-animation-delay: 0.332s;
      animation-delay: 0.332s;
      -webkit-transform: rotate(120deg);
      -ms-transform: rotate(120deg);
      transform: rotate(120deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(6) {
      -webkit-animation-delay: 0.415s;
      animation-delay: 0.415s;
      -webkit-transform: rotate(150deg);
      -ms-transform: rotate(150deg);
      transform: rotate(150deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(7) {
      -webkit-animation-delay: 0.498s;
      animation-delay: 0.498s;
      -webkit-transform: rotate(180deg);
      -ms-transform: rotate(180deg);
      transform: rotate(180deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(8) {
      -webkit-animation-delay: 0.581s;
      animation-delay: 0.581s;
      -webkit-transform: rotate(210deg);
      -ms-transform: rotate(210deg);
      transform: rotate(210deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(9) {
      -webkit-animation-delay: 0.664s;
      animation-delay: 0.664s;
      -webkit-transform: rotate(240deg);
      -ms-transform: rotate(240deg);
      transform: rotate(240deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(10) {
      -webkit-animation-delay: 0.747s;
      animation-delay: 0.747s;
      -webkit-transform: rotate(270deg);
      -ms-transform: rotate(270deg);
      transform: rotate(270deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(11) {
      -webkit-animation-delay: 0.83s;
      animation-delay: 0.83s;
      -webkit-transform: rotate(300deg);
      -ms-transform: rotate(300deg);
      transform: rotate(300deg);
    }

    .custom-spinner .spinner .spinner-blade:nth-child(12) {
      -webkit-animation-delay: 0.913s;
      animation-delay: 0.913s;
      -webkit-transform: rotate(330deg);
      -ms-transform: rotate(330deg);
      transform: rotate(330deg);
    }

    @keyframes spinner-fade9234 {
      0% {
        background-color: #ffffff;
      }

      100% {
        background-color: transparent;
      }
    }

    /* Dark mode styles for newsletter */
    body.dark-mode .form-control,
    body.dark-mode input,
    body.dark-mode select,
    body.dark-mode textarea {
      background: var(--dm-bg-tertiary) !important;
      border-color: var(--dm-border) !important;
      color: var(--dm-text-primary) !important;
    }



    /* Animated Signup Button Styles */
    .button {
      all: unset;
      position: relative;
      display: inline-flex;
      height: 2.5rem;
      align-items: center;
      border-radius: 9999px;
      padding-left: 2rem;
      padding-right: 2rem;
      font-family: Segoe UI;
      font-size: 1.2rem;
      font-weight: 640;
      color: #ffffff;
      letter-spacing: -0.06em;
      cursor: pointer;
    }

    .button-item {
      background-color: transparent;
      color: #000000;
    }

    .button-item .button-bg {
      border-color: rgb(255, 255, 255);
      background-color: rgb(255, 255, 255);
    }

    .button-inner,
    .button-inner-hover,
    .button-inner-static {
      pointer-events: none;
      display: block;
    }

    .button-inner {
      position: relative;
    }

    .button-inner-hover {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transform: translateY(70%);
    }

    .button-bg {
      overflow: hidden;
      border-radius: 2rem;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: scale(1);
      transition: transform 1.8s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .button-bg,
    .button-bg-layer,
    .button-bg-layers {
      display: block;
    }

    .button-bg-layers {
      position: absolute;
      left: 50%;
      transform: translate(-50%);
      top: -60%;
      aspect-ratio: 1 / 1;
      width: max(200%, 10rem);
    }

    .button-bg-layer {
      border-radius: 9999px;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: scale(0);
    }

    .button-bg-layer.-purple {
      background-color: rgb(26, 80, 255);
    }

    .button-bg-layer.-turquoise {
      background-color: rgb(9, 255, 218);
    }

    .button-bg-layer.-yellow {
      --tw-bg-opacity: 1;
      background: linear-gradient(45deg, rgb(3, 226, 255), rgb(0, 89, 255));
    }

    .button:hover .button-inner-static {
      opacity: 0;
      transform: translateY(-70%);
      transition:
        transform 1.4s cubic-bezier(0.19, 1, 0.22, 1),
        opacity 0.3s linear;
    }

    .button:hover .button-inner-hover {
      opacity: 1;
      transform: translateY(0);
      transition:
        transform 1.4s cubic-bezier(0.19, 1, 0.22, 1),
        opacity 1.4s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .button:hover .button-bg-layer {
      transition:
        transform 1.3s cubic-bezier(0.19, 1, 0.22, 1),
        opacity 0.3s linear;
    }

    .button:hover .button-bg-layer-1 {
      transform: scale(1);
    }

    .button:hover .button-bg-layer-2 {
      transition-delay: 0.1s;
      transform: scale(1);
    }

    .button:hover .button-bg-layer-3 {
      transition-delay: 0.2s;
      transform: scale(1);
    }



    .logout-confirm-btn::before {
      content: '';
      width: -webkit-fill-available !important;
      height: -webkit-fill-available;
      border-radius: inherit;
      position: absolute;
      top: 0;
      left: 0;
      background-image: linear-gradient(to right, #b70000 0%, #ff3333 100%);
      transition: .5s ease;
      display: block;
      z-index: -1;
    }

    .logout-confirm-btn:hover::before {
      width: 11em;
    }


    .viewbrands {
      width: 175px;
      height: 50px;
      margin-top: 35px;
      place-self: center;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 4px;
      background: linear-gradient(45deg, #00ceff, #00ff5b);
      border-radius: 30px;
      color: rgb(19, 19, 19);
      font-weight: 600;
      border: none;
      font-size: 16px;
      position: relative;
      cursor: pointer;
      transition-duration: .2s;
      box-shadow: 0px 5px 10px rgb(0 0 0 / 22%);
      padding-left: 4px;
      transition-duration: .5s;
    }

    .viewbrands:hover {
      scale: 1.1;
    }

    .svgIcon {
      height: 42px;
      transition-duration: 1.5s;
    }

    .bell path {
      fill: rgb(19, 19, 19);
    }

    .viewbrands:hover {
      background-color: rgb(192, 255, 20);
      transition-duration: .5s;
    }

    .viewbrands:active {
      transform: scale(0.97);
      transition-duration: .2s;
    }

    .viewbrands:hover .svgIcon {
      transform: rotate(250deg);
      transition-duration: 1.5s;
    }

    /* Navigation Links Hover Effect - Radial Expanding Background */
    .split-button.single-toggle-action,
    .navbar a {
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .split-button.single-toggle-action::before,
    .navbar a::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      background-color: #ccebff;
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
      z-index: -1;
    }

    .split-button.single-toggle-action:hover::before,
    .navbar a:hover::before {
      transform: translate(-50%, -50%) scale(2);
      opacity: 1;
    }

    /* Dark mode - same color for expanding background */
    body.dark-mode .split-button.single-toggle-action::before,
    body.dark-mode .navbar a::before {
      background-color: #ccebff;
      transition: all 1.1s cubic-bezier(0.04, 0.86, 0, 1.08);
    }

    /* Ensure text and icons stay above the background */
    .split-button-content,
    .split-button-icon,
    .navbar a {
      position: relative;
      z-index: 1;
    }

    #main-nav-link {
      background-color: transparent !important;
      padding: 0px;
    }

    /* --- MOBILE PILL NAVBAR INTEGRATION --- */
    @media (max-width: 768px) {

      /* --- SEARCH BAR OVERLAY --- */
      #mobilePillSearchBar {
        position: fixed;
        bottom: 90px;
        /* Adjusted to be above navbar */
        left: 50%;
        transform: translateX(-50%) translateY(20px);
        width: 85%;
        background: rgb(39, 39, 39);
        border-radius: 50px;
        padding: 6px 6px 6px 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        opacity: 0;
        pointer-events: none;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        z-index: 999;
      }

      #mobilePillSearchBar.active {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
        pointer-events: all;
      }

      #mobilePillSearchBar input {
        border: none;
        outline: none;
        width: 100%;
        font-size: 14px;
        border-radius: 30px;
        padding: 15px 0px 15px 10px;
        background: transparent;
      }

      /* --- THE NAVBAR --- */
      #mobilePillNavbar {
       position: fixed;
        bottom: 25px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #ffffff;
        padding: 5px;
        border-radius: 50px;
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        align-items: center;
        gap: 0px;
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        z-index: 999;
        /* Higher priority */
      }

      #mobilePillNavbar .nav-item {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 45px;
        padding: 0 15px;
        border-radius: 30px;
        cursor: pointer;
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        color: #888;
        overflow: hidden;
      }

      #mobilePillNavbar .nav-item ion-icon {
        font-size: 22px;
        min-width: 22px;
        transition: color 0.3s;
        color: #232323;
      }

      #mobilePillNavbar .nav-text {
        font-size: 14px;
        font-weight: 600;
        white-space: nowrap;
        max-width: 0;
        opacity: 0;
        margin-left: 0;
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        transition: all 0.4s ease;
      }

      #mobilePillNavbar .nav-item.active {
        background-color: #232323;
        color: #ffffff;
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        padding: 22px 0px 22px 12px;
      }

      #mobilePillNavbar .nav-item.active ion-icon {
        color: #ffffff;
      }

      #mobilePillNavbar .nav-item.active .nav-text {
        max-width: 100px;
        opacity: 1;
        margin-left: 10px;
      }
    }

    /* Hide on Desktop */
    @media (min-width: 769px) {

      #mobilePillNavbar,
      #mobilePillSearchBar {
        display: none !important;
      }
    }

    /* Custom Profile CSS for Grid */
    .profile-dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .dashboard-stat-card {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      gap: 20px;
      transition: transform 0.3s ease;
    }

    .dashboard-stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 15px;
      background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
      color: #0099ff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
    }

    .stat-info h3 {
      font-size: 24px;
      font-weight: 700;
      color: #1e293b;
      margin: 0;
      font-family: 'Space Grotesk', sans-serif;
    }

    .stat-info p {
      color: #64748b;
      margin: 0;
      font-size: 14px;
    }

    .orders-table-container {
      overflow-x: auto;
    }

    .orders-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 15px;
    }

    .orders-table th {
      text-align: left;
      padding: 15px;
      color: #64748b;
      font-weight: 600;
      border-bottom: 1px solid #e2e8f0;
    }

    .orders-table td {
      padding: 15px;
      color: #334155;
      border-bottom: 1px solid #f1f5f9;
    }

    .status-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .status-processing {
      background: #fef3c7;
      color: #d97706;
    }

    .status-delivered {
      background: #dcfce7;
      color: #16a34a;
    }

    .status-cancelled {
      background: #fee2e2;
      color: #dc2626;
    }

    /* Dark Mode overrides */
    body.dark-mode .dashboard-stat-card {
      background: var(--dm-card-bg);
      border-color: var(--dm-border);
    }

    body.dark-mode .stat-info h3 {
      color: var(--dm-text-primary);
    }

    body.dark-mode .orders-table th {
      color: var(--dm-text-secondary);
      border-color: var(--dm-border);
    }

    body.dark-mode .orders-table td {
      color: var(--dm-text-primary);
      border-color: var(--dm-border);
    }

    .thebigtwo{
      border: 1px solid #3a3a3a;
      border-radius: 30px;

    }

    /* Profile Image Modal Styles */
    .profile-modal-overlay {
       position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(10px);
  background: rgba(0, 0, 0, 0.7);
  z-index: 1000;
  visibility: hidden;
  opacity: 0;

  transition: opacity 1s ease;
    }

    .profile-modal-overlay.show {
      visibility: visible;
      opacity: 1;
    }

    .profile-image-displaying-window {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      z-index: 1001;
      visibility: hidden;
      opacity: 0;
      transition: opacity 1s ease, transform 1s ease;
      width: 90%;
      height: 90%;
      border-radius: 12px;
    }


    @media (max-width: 768px) {
      .profile-image-displaying-window {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      z-index: 1001;
      visibility: hidden;
      opacity: 0;
      transition: opacity 1s ease, transform 1s ease;
      width: 100%;
    }
    }
    .profile-image-displaying-window.show {
      visibility: visible;
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .profile-modal-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      transition: transform 0.2s ease;
      transform-origin: center center;
    }

    /* Prevent body scroll when modal is open */
    body.modal-open {
      overflow: hidden;
    }

    /* Profile Modal Close Button */
    .profile-modal-close-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #333;
      cursor: pointer;
      z-index: 1003;
      transition: background-color 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .profile-modal-close-btn:hover {
      background: rgba(255, 255, 255, 1);
    }

    /* Dark mode for close button */
    body.dark-mode .profile-modal-close-btn {
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
    }

    body.dark-mode .profile-modal-close-btn:hover {
      background: rgba(0, 0, 0, 1);
    }
  </style>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

  <nav>
    <div class="navbar-container">
      <a href="index.html" aria-label="Navigate to home page">
        <div class="navbar-logo">
          <img src="assets/BlueEmber-ezgif.com-gif-maker.gif" alt="Blue Ember animated logo"
            style="width: 30px; height: auto;">
          <span>
            <h6 style="color: #0099ff; font-size: large; margin: 0px 0px -6px 0px;">BLUE</h6>
            <h6 style="color: #ffffff; font-size: large; margin: 0px 0px -6px 0px;">EMBER</h6>
          </span>
        </div>
      </a>

      <!-- Search Bar -->
      <div class="search-container">
        <form action="search-results.html" method="GET" id="searchForm">
          <input type="search" class="search-input" id="searchInput" name="q" placeholder="Search..."
            aria-label="Search products">
          <button type="submit" class="search-button" aria-label="Search">
            <i class='bx  bx-search-big'></i>
          </button>
        </form>
      </div>

      <div class="hamburger" id="hamburger">
        <i class="fa-solid fa-bars"></i>
      </div>
      <div class="cart-icon-cont-0">
        <div class="cart-link">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="cart-count" id="cart-count">0</span>
        </div>
      </div>
      <!-- Main navigation menu -->
      <ul class="navbar">
        <li class="mobile-dropdown-item" id="main-nav-link">
          <div class="split-button single-toggle-action">
            <div class="split-button-content">
              <i class='bx  bx-menu'></i>
              Categories
            </div>
            <div class="split-button-icon">
              <i class="fa-solid fa-chevron-down"></i>
            </div>
          </div>
          <ul class="mobile-dropdown">
            <li><a href="product2.html">Toys</a></li>
            <li><a href="product2.html">Supplyments</a></li>
            <li><a href="product2.html">Beauty</a></li>
            <li><a href="product2.html">HomeGoods</a></li>
          </ul>
        </li>
        <li class="mobile-dropdown-item" id="main-nav-link">
          <div class="split-button single-toggle-action">
            <div class="split-button-content">
              <i class="fa-solid fa-building"></i>
              Brands
            </div>
            <div class="split-button-icon">
              <i class="fa-solid fa-chevron-down"></i>
            </div>
          </div>
          <ul class="mobile-dropdown">
            <li><a href="Haier-productpage.html">Revlon</a></li>
            <li><a href="samsung-productpage.html">Samsung</a></li>
            <li><a href="LG-productpage.html">LG</a></li>
            <li><a href="Whirlpool-productpage.html">Whirlpool</a></li>
            <li><a href="BOSCH-productpage.html">Bosch</a></li>
            <li><a href="Electrolux-productpage.html">Toys R Us</a></li>
            <li><a href="Panasonic-productpage.html">Panasonic</a></li>
          </ul>
        </li>
        <li style="display: none;"><a href="product2.html">Product</a></li>
        <li><a href="compare.html" style="display: none;">Compare</a></li>
        <li><a href="Contact.html">Contact</a></li>
        <!-- Profile Dropdown -->

        <div class="profile-dropdown-container" id="profileDropdownContainer" style="display: none;">
          <div class="profile-dropdown" id="profileDropdown">
            <!-- Profile Header Added by Fix -->
            <div class="profile-header">
              <img src="assets/profilepreview.jpg" alt="User" id="dropdownHeaderImg">
              <div class="profile-info">
                <p id="profileDropdownName" class="profile-name">Guest</p>
                <p id="profileDropdownEmail" class="profile-email">Please log in</p>
              </div>
            </div>
            <div class="profile-dropdown-divider"></div>

            <ul class="profile-dropdown-list">
              <li>
                <a href="profile.html" class="profile-dropdown-item">
                  <i class="fa-regular fa-user"></i>
                  <span>Profile</span>
                </a>
              </li>
              <li>
                <a href="#" class="profile-dropdown-item">
                  <i class="fa-regular fa-comments"></i>
                  <span>Purchases & Reviews</span>
                </a>
              </li>
              <li>
                <a href="#" class="profile-dropdown-item">
                  <i class="fa-regular fa-credit-card"></i>
                  <span>Subscription</span>
                  <span class="pro-badge">PRO</span>
                </a>
              </li>
              <li>
                <a href="account.html" class="profile-dropdown-item">
                  <i class="fa-solid fa-toggle-off"></i>
                  <span>Account Settings</span>
                </a>
              </li>
            </ul>
            <div class="profile-dropdown-divider"></div>
            <ul class="profile-dropdown-list">
              <li>
                <a href="#" class="profile-dropdown-item">
                  <i class="fa-regular fa-circle-question"></i>
                  <span>Help center</span>
                </a>
              </li>
              <li>
                <a href="#" class="profile-dropdown-item" id="nav-dropdown-logout">
                  <i class="fas fa-sign-out-alt"></i>
                  <span>Logout</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
        </li>
        <div class="thebigthree-btns-wrapper" style="display: flex; align-items: center;">
          <li id="dark-mode-li" style="display: flex; align-items: center; margin:0 !important;"></li>
          <!-- Cart icon moved OUTSIDE the main navbar list, the profile button is by default stays displayed none until signed up, when client log out, the profile button will be displayed none -->
          <button class="profile-icon-btn" id="profileIconBtn" aria-label="Open profile menu"
            style="display: none; align-items: center;">
            <img src="assets/profilepreview.jpg" alt="Profile" id="profileIconImg" class="profile-icon-img">
            <i class="fa-solid fa-user profile-icon-placeholder"></i>
          </button>
          <li class="thebigthree-login/signup-btn">
            <button class="button button-item" id="signupNavBtn">
              <span class="button-bg">
                <span class="button-bg-layers">
                  <span class="button-bg-layer button-bg-layer-1 -purple"></span>
                  <span class="button-bg-layer button-bg-layer-2 -turquoise"></span>
                  <span class="button-bg-layer button-bg-layer-3 -yellow"></span>
                </span>
              </span>
              <span class="button-inner">
                <span class="button-inner-static">SignUp</span>
                <span class="button-inner-hover" style="color: #ffffff;">SignUp</span>
              </span>
            </button>



          </li>
          <div class="cart-icon-container cart-link">
            <div class="cart-link">
              <i class="fa-solid fa-cart-shopping"></i>
              <span class="cart-count">0</span>
            </div>
          </div>
        </div>


      </ul>
    </div>
  </nav>

  <!-- Cart Popup Overlay -->
  <div class="cart-popup-overlay" id="cart-overlay"></div>

  <!-- Cart Popup -->
  <div class="cart-popup" id="cart-popup">
    <div class="cart-header">
      <h3><i class="fa-solid fa-cart-shopping me-2"></i> Your Shopping Cart <span id="cart-item-count">(0)</span></h3>
      <button class="cart-close" id="cart-close"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="cart-items" id="cart-items-container">
      <!-- Cart items will be populated here dynamically -->
    </div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total:</span>
        <span id="cart-total">$0.00</span>
      </div>
      <button class="checkout-btn" id="checkout-btn" disabled>
        <span class="payment-icon"></span>Proceed to Checkout</button>
      <button class="continue-btn" id="continue-btn"><i class="fa-solid fa-arrow-left me-2"></i>Continue
        Shopping</button>
    </div>
  </div>

    <!-- Mobile Sidebar Menu (Redesigned) -->
    <div class="mobile-menu" id="mobileMenu">
  
      <!-- 1. Header: Brand or User Profile -->
      <div class="sidebar-header" id="sidebarHeader">
        <!-- Default State: Brand Logo -->
        <div class="header-brand default-brand" id="sidebarBrand">
          <div class="navbar-logo">
            <img src="assets/BlueEmber-ezgif.com-gif-maker.gif" alt="Blue Ember animated logo"
              style="width: 30px; height: auto;">
            <span>
              <h6 style="color: #0099ff; font-size: large; margin: 0px 0px -6px 0px;">BLUE</h6>
              <h6 style="color: #ffffff; font-size: large; margin: 0px 0px -6px 0px;">EMBER</h6>
            </span>
          </div>
        </div>
  
        <!-- User State (Logged In) -->
        <div class="header-profile" id="sidebarProfileContainer">
          <img src="assets/profilepreview.jpg" alt="Profile" id="navbar-avatar-img">
          <div class="user-info">
            <span class="user-name" id="sidebarUserName">User Name</span>
            <span class="user-email" id="sidebarUserEmail">email@example.com</span>
          </div>
          <i class='bx  bx-chevron-down' style='color:#ffffff'></i>
        </div>
  
        <!-- Close Button -->
  
  
        <!-- Mobile Specific Profile Dropdown (Floating) -->
        <div class="mobile-profile-dropdown" id="mobileProfileDropdown" style="display: none;">
          <div class="mobile-dropdown-header">
            <span class="user-name" id="mobileDropdownName">User Name</span>
            <span class="user-email" id="mobileDropdownEmail">email@example.com</span>
          </div>
          <div class="mobile-dropdown-items">
            <a href="profile.html" class="mobile-dropdown-item mobile-item-links">
              <i class="fa-regular fa-user"></i> Profile
            </a>
            <a href="account.html" class="mobile-dropdown-item mobile-item-links">
              <i class="fa-solid fa-toggle-off"></i> Account Settings
            </a>
            <a href="purchases.html" class="mobile-dropdown-item mobile-item-links">
              <i class="fa-regular fa-comments"></i> Purchases & Reviews
            </a>
            <a href="#" class="mobile-dropdown-item mobile-item-links">
              <i class="fa-regular fa-circle-question"></i> Help Center
            </a>
          </div>
        </div>
      </div>
  
      <!-- 2. Content: Navigation Links -->
      <div class="sidebar-content">
  
        <a href="index.html" class="sidebar-nav-item">
          <i class="fa-solid fa-house"></i>
          <span>Home</span>
        </a>
  
        <!-- Collapsible: Categories -->
        <div class="sidebar-collapsible" id="col-categories">
          <button class="collapsible-trigger">
            <div style="display:flex; align-items:center;">
              <i class="fa-solid fa-blender trigger-icon"></i>
              <span>Categories</span>
            </div>
            <i class="fa-solid fa-chevron-down chevron"></i>
          </button>
          <div class="collapsible-content">
            <a href="product2.html" class="sub-link">Washers & Dryers</a>
            <a href="product2.html" class="sub-link">Refrigerators</a>
            <a href="product2.html" class="sub-link">Microwaves</a>
            <a href="product2.html" class="sub-link">Air Conditioners</a>
            <a href="product2.html" class="sub-link">Dishwashers</a>
            <a href="product2.html" class="sub-link">Cooktops</a>
            <a href="product2.html" class="sub-link">Vacuums</a>
          </div>
        </div>
  
        <!-- Collapsible: Brands -->
        <div class="sidebar-collapsible" id="col-brands">
          <button class="collapsible-trigger">
            <div style="display:flex; align-items:center;">
              <i class="fa-solid fa-building trigger-icon"></i>
              <span>Brands</span>
            </div>
            <i class="fa-solid fa-chevron-down chevron"></i>
          </button>
          <div class="collapsible-content">
            <a href="Haier-productpage.html" class="sub-link">Haier</a>
            <a href="samsung-productpage.html" class="sub-link">Samsung</a>
            <a href="LG-productpage.html" class="sub-link">LG</a>
            <a href="Whirlpool-productpage.html" class="sub-link">Whirlpool</a>
            <a href="BOSCH-productpage.html" class="sub-link">Bosch</a>
            <a href="Electrolux-productpage.html" class="sub-link">Electrolux</a>
            <a href="Apple-productpage.html" class="sub-link">Apple</a>
          </div>
        </div>
  
        <a href="product2.html" class="sidebar-nav-item">
          <i class="fa-solid fa-tags"></i>
          <span>Products</span>
        </a>
  
        <a href="Contact.html" class="sidebar-nav-item">
          <i class="fa-solid fa-envelope"></i>
          <span>Contact Us</span>
        </a>
  
        <!-- Dynamic Cart Link -->
        <li>
          <a href="#" id="mobile-cart-link" class="mobile-cart-link">
            <i class="fa-solid fa-cart-shopping me-2"></i>Shopping Cart
          </a>
        </li>
  
        <!-- Login Link (Hidden if logged in) -->
        <div id="sidebar-login-container">
          <a href="login.html" class="sidebar-nav-item" id="sidebar-login-link">
            <i class="fa-solid fa-right-to-bracket"></i>
            <span>Login</span>
          </a>
        </div>
  
      </div>
  
      <!-- 3. Footer: Settings / Logout -->
      <div class="sidebar-footer" id="sidebarFooter">
        <button id="mobile-theme-toggle" class="footer-btn">
          <i class="fa-solid fa-moon"></i>
          <span>Toggle Theme</span>
        </button>
  
        <!-- Logout will be injected here -->
      </div>
  
    </div>
 

    <!-- Profile Image Modal -->
    <div class="profile-modal-overlay" id="profileModalOverlay" aria-hidden="true"></div>
    <div class="profile-image-displaying-window" id="profileImageModal" role="dialog" aria-label="Profile Image Modal" aria-hidden="true">
        <img src="" alt="Profile Image" class="profile-modal-image" id="profileModalImage">
    </div>
    <button class="profile-modal-close-btn" id="profileModalCloseBtn" aria-label="Close Profile Image Modal" style="display: none;"><i class='bx  bx-x' style='color:#ffffff'></i> </button>

    <!-- Login Prompt for Non-Authenticated Users -->
    <div id="login-prompt" style="display: none; text-align: center; padding: 50px;">
      <h2>You haven't signed up or logged in yet</h2>
      <p>Please sign up or log in to access your profile.</p>
      <a href="signup.html" class="btn btn-primary" style="margin-right: 10px;">Signup</a>
      <a href="login.html" class="btn btn-outline">Login</a>
    </div>

    <!-- Main Content -->
    <main class="account-settings-main">
        <div class="account-container">
            <!-- Welcome Header -->
            <div style="display: flex; align-items: center; margin-bottom: 20px; gap:15px;">
                <div class="profile-pic-container" style="width: 150px;height: 150px;object-fit: cover;overflow: hidden;align-content: center;border-radius: 3284px;">
                    <img src="" id="dashboardProfilePic" class="profile-pic-img" style="display: none;">
                    <div class="profile-pic-placeholder" style="font-size: 32px;"><i class="bx bx-user"></i></div>
                </div>
                <div>
                    <h1 class="page-title" style="margin-bottom: 5px;">My Profile</h1>
                    <p style="color: #64748b; font-size: 16px;" id="welcomeMsg">Welcome back!</p>
                </div>
                <!-- Profile Picture (Large) -->
                
            </div>

            <!-- Profile Tabs -->
            <div class="tabs-navigation">
                <button class="tab-btn active" data-tab="dashboard">
                    <i class="bx bx-grid-alt"></i> Dashboard
                </button>
                <button class="tab-btn" data-tab="orders">
                    <i class="bx bx-package"></i> My Orders
                </button>
                <button class="tab-btn" data-tab="wishlist">
                    <i class="bx bx-heart"></i> Wishlist
                </button>
            </div>

            <!-- TAB CONTENT -->
            <div class="tabs-content">

                <!-- DASHBOARD TAB -->
                <div class="tab-pane active" id="dashboard-tab">
                    <!-- Stats Grid -->
                    <div class="profile-dashboard">
                        <div class="dashboard-stat-card">
                            <div class="stat-icon"><i class="bx bx-shopping-bag"></i></div>
                            <div class="stat-info">
                                <h3 id="statTotalOrders">0</h3>
                                <p>Total Orders</p>
                            </div>
                        </div>
                        <div class="dashboard-stat-card">
                            <div class="stat-icon"
                                style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%); color: #16a34a;">
                                <i class="bx bx-star"></i></div>
                            <div class="stat-info">
                                <h3 id="statReviews">0</h3>
                                <p>Reviews</p>
                            </div>
                        </div>
                        <div class="dashboard-stat-card">
                            <div class="stat-icon"
                                style="background: linear-gradient(135deg, #fae8ff 0%, #f5d0fe 100%); color: #d946ef;">
                                <i class="bx bx-heart"></i></div>
                            <div class="stat-info">
                                <h3 id="statWishlist">0</h3>
                                <p>Wishlist</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Orders Section -->
                    <div class="account-card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2>Recent Orders</h2>
                            <button class="btn btn-outline btn-sm" onclick="switchTab('orders')">View All</button>
                        </div>
                        <div class="orders-table-container">
                            <table class="orders-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Total</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="recentOrdersBody">
                                    <!-- Populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="profile-dashboard" style="margin-top: 30px;">
                        <a href="account.html" class="dashboard-stat-card"
                            style="text-decoration: none; justify-content: center; flex-direction: column; text-align: center;">
                            <div class="stat-icon" style="background: #f1f5f9; color: #475569;"><i
                                    class="bx bx-cog"></i></div>
                            <div class="stat-info">
                                <h3 style="font-size: 18px;">Account Settings</h3>
                                <p>Manage details</p>
                            </div>
                        </a>
                        <a href="account.html" class="dashboard-stat-card"
                            style="text-decoration: none; justify-content: center; flex-direction: column; text-align: center;">
                            <div class="stat-icon" style="background: #f1f5f9; color: #475569;"><i
                                    class="bx bx-map"></i></div>
                            <div class="stat-info">
                                <h3 style="font-size: 18px;">Addresses</h3>
                                <p>Manage locations</p>
                            </div>
                        </a>
                        <a href="account.html" class="dashboard-stat-card"
                            style="text-decoration: none; justify-content: center; flex-direction: column; text-align: center;">
                            <div class="stat-icon" style="background: #f1f5f9; color: #475569;"><i
                                    class="bx bx-wallet"></i></div>
                            <div class="stat-info">
                                <h3 style="font-size: 18px;">Payment Methods</h3>
                                <p>Manage cards</p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- ORDERS TAB -->
                <div class="tab-pane" id="orders-tab">
                    <div class="account-card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2 style="margin: 0;">My Orders</h2>
                            <div style="display: flex; gap: 10px;">
                                <select id="orderFilter" class="form-control" style="width: auto; padding: 8px 15px;">
                                    <option value="all">All Orders</option>
                                    <option value="active">Active (Processing/Shipped)</option>
                                    <option value="completed">Completed (Delivered)</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                            </div>
                        </div>
                        <div class="orders-table-container">
                            <table class="orders-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Date</th>
                                        <th>Items</th>
                                        <th>Status</th>
                                        <th>Total</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="allOrdersBody">
                                    <!-- Populated by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- WISHLIST TAB -->
                <div class="tab-pane" id="wishlist-tab">
                    <div class="account-card" style="text-align: center; padding: 50px;">
                        <div style="font-size: 48px; color: #cbd5e1; margin-bottom: 15px;"><i class="bx bx-heart"></i>
                        </div>
                        <h3>Your Wishlist is empty</h3>
                        <p style="color: #64748b;">Save items you love to buy later.</p>
                        <a href="products.html" class="btn btn-primary" style="margin-top: 15px;">Start Shopping</a>
                    </div>
                </div>

                <!-- ORDER DETAILS VIEW (Hidden by default, shown via JS) -->
                <div id="orderDetailsView" style="display: none;">
                    <button class="btn btn-text" onclick="closeOrderDetails()"
                        style="margin-bottom: 20px; color: #64748b;">
                        <i class="bx bx-arrow-back"></i> Back to Orders
                    </button>

                    <div class="account-card">
                        <div
                            style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 20px; border-bottom: 1px solid #e2e8f0; padding-bottom: 20px; margin-bottom: 25px;">
                            <div>
                                <h2 style="margin-bottom: 5px;" id="detailOrderId">Order #EV-0000</h2>
                                <p style="color: #64748b; font-size: 14px;">Placed on <span id="detailOrderDate">Dec 12,
                                        2024</span></p>
                            </div>
                            <div style="text-align: right;">
                                <h3 style="color: #0099ff; font-size: 24px; margin-bottom: 5px;" id="detailOrderTotal">
                                    $0.00</h3>
                                <span class="status-badge" id="detailOrderStatus">Processing</span>
                            </div>
                        </div>

                        <!-- Order Timeline -->
                        <div class="order-timeline" style="margin-bottom: 40px;">
                            <!-- Injected via JS -->
                        </div>

                        <!-- Order Items -->
                        <h3 style="font-size: 18px; margin-bottom: 15px;">Items in your order</h3>
                        <div id="detailItemsList"
                            style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
                            <!-- Injected via JS -->
                        </div>

                        <!-- Order Info Grid -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; background: #f8fafc; padding: 20px; border-radius: 12px;"
                            id="orderInfoGrid">
                            <div>
                                <h4
                                    style="font-size: 14px; color: #64748b; margin-bottom: 10px; text-transform: uppercase;">
                                    Shipping Address</h4>
                                <p id="detailShippingAddr" style="font-size: 15px; line-height: 1.6; color: #334155;">
                                    -
                                </p>
                            </div>
                            <div>
                                <h4
                                    style="font-size: 14px; color: #64748b; margin-bottom: 10px; text-transform: uppercase;">
                                    Payment Method</h4>
                                <p style="font-size: 15px; color: #334155;"><i class="bx bx-credit-card"></i> <span
                                        id="detailPayment">Visa ending in ****</span></p>
                            </div>
                            <div>
                                <h4
                                    style="font-size: 14px; color: #64748b; margin-bottom: 10px; text-transform: uppercase;">
                                    Order Summary</h4>
                                <div
                                    style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 15px;">
                                    <span style="color: #64748b;">Subtotal</span>
                                    <span id="detailSubtotal" style="font-weight: 500;">$0.00</span>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 15px;">
                                    <span style="color: #64748b;">Shipping</span>
                                    <span id="detailShippingCost" style="font-weight: 500;">Free</span>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; margin-top: 10px; padding-top: 10px; border-top: 1px solid #e2e8f0; font-weight: 700; font-size: 18px;">
                                    <span>Total</span>
                                    <span id="detailFinalTotal">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </main>

    <!-- LOGOUT CONFIRMATION MODAL -->
    <div class="modal" id="logoutModal" aria-hidden="true">
        <div class="modal-overlay logout-modal-overlay" id="logoutModalOverlay"></div>
        <div class="modal-content logout-modal-content">
            <div class="logout-modal-header">
                <div class="logout-icon">
                    <i class="fas fa-sign-out-alt"></i>
                </div>
                <h3>Confirm Logout</h3>
            </div>
            <div class="logout-modal-body">
                <p>Are you sure you want to log out? You'll need to sign in again to access your account.</p>
            </div>
            <div class="logout-modal-actions">
                <button type="button" class="btn btn-secondary logout-cancel-btn" id="logoutCancelBtn">Cancel</button>
                <button type="button" class="btn btn-primary logout-confirm-btn" id="logoutConfirmBtn">
                    <span class="btn-text">
                        <i class="fas fa-sign-out-alt"></i>
                        Log Out
                    </span>
                    <div class="custom-spinner">
                        <div class="spinner center">
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                            <div class="spinner-blade"></div>
                        </div>
                    </div>
                </button>
            </div>
        </div>
      </div>
    
      <!-- Chatbot Interface -->
      <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
      <link href="chatbot.css" rel="stylesheet">
    
    
        <!-- Search Bar Pop-up -->
  <div class="search-overlay" id="mobilePillSearchBar">
      <ion-icon name="search-outline" style="color:#666; font-size:20px;"></ion-icon>
      <input type="text" placeholder="Search for products..." id="mobilePillSearchInput">
    </div>


    <!-- The Pill Navbar -->
    <div class="navbar" id="mobilePillNavbar">
      <abbr title="Home"><div class="nav-item" data-target="home">
        <ion-icon name="home-outline"></ion-icon>
        <span class="nav-text"><a href="index.html">Home</a></span>
      </div>
      </abbr>
      <abbr title="Search"><div class="nav-item" data-target="search">
        <ion-icon name="search-outline"></ion-icon>
        <span class="nav-text"><a href="#">Search</a></span>
      </div>
      </abbr>
      
      <abbr title="Signup"><div class="nav-item" data-target="signup" id="Hide/UnhideSignupBtn">
        <a href="login.html" style="padding: 0px;">
        <li class="thebigthree-login/signup-btn">
            <button class="button button-item" id="signupNavBtn">
              <span class="button-bg">
                <span class="button-bg-layers">
                  <span class="button-bg-layer button-bg-layer-1 -purple"></span>
                  <span class="button-bg-layer button-bg-layer-2 -turquoise"></span>
                  <span class="button-bg-layer button-bg-layer-3 -yellow"></span>
                </span>
              </span>
              <span class="button-inner">
                <span class="button-inner-static">SignUp</span>
                <span class="button-inner-hover" style="color: #ffffff;">SignUp</span>
              </span>
            </button>



          </li>
          </a>
      </div>
      </abbr>
      </a>
      <abbr title="Profile"><div class="nav-item" data-target="user" id="Hide/UnhideUserIcon" style="display: none;">
        <ion-icon name="person-outline"></ion-icon>
        <span class="nav-text"><a href="profile.html">User</a></span>
      </div>
      </abbr>
      <abbr title="Shop"><div class="nav-item" data-target="shop">
        <ion-icon name="storefront-outline"></ion-icon>
        <span class="nav-text"><a href="product2.html">Shop</a></span>
      </div>
      </abbr>
      <abbr title="Chat with us"><div class="nav-item" data-target="chatbot" style="padding:22px;">
        <button id="chat-bubble-btn" class="chat-bubble-btn" aria-label="Chat with us">
      <ion-icon name="chatbubbles-outline"></ion-icon>
    </button>
    </div>
      </abbr>
    </div>
    
        <abbr title="Chat with us"><button id="chat-bubble-btn-two" class="chat-bubble-btn" aria-label="Chat with us">
          <ion-icon name="chatbubbles-outline"></ion-icon>
        </button>
    </abbr>
      <div id="chat-window" class="chat-window">
        <div class="chat-header">
          <div class="chat-header-info">
            <div class="chat-avatar">
              <i class="fa-solid fa-robot"></i>
            </div>
            <div class="chat-title">
              <h4>Ember AI</h4>
              <span>Online</span>
            </div>
          </div>
    
          <button id="chat-close-btn" class="chat-close-btn" aria-label="Close chat">
            <i class="fa-solid fa-angle-down"></i>
          </button>
        </div>
        <div id="chat-body" class="chat-body">
          <div class="message bot">
            Hello!  How can I assist you today?
          </div>
        </div>
        <div class="chat-footer">
          <input type="text" id="chat-input" class="chat-input" placeholder="Type a message..." aria-label="Type message">
          <button id="chat-send-btn" class="chat-send-btn" aria-label="Send message">
            <i class="fa-solid fa-paper-plane"></i>
          </button>
        </div>
      </div>
    
      <script src="js/chatbot.js"></script>
      <!-- Auth Integration -->
      <script>
        // Auth & Dropdown Logic
        const initAuthUI = async () => {
          if (!window.DB) return;
    
          const { data: { user } } = await DB.getUser();
    
          // Handle profile content visibility
          const mainContent = document.querySelector('.account-settings-main');
          const loginPrompt = document.getElementById('login-prompt');
    
          if (user) {
            if (mainContent) mainContent.style.display = 'block';
            if (loginPrompt) loginPrompt.style.display = 'none';
          } else {
            if (mainContent) mainContent.style.display = 'none';
            if (loginPrompt) loginPrompt.style.display = 'block';
          }
    
          if (user) {
            const loginLink = document.querySelector('a[href="login.html"]');
            if (loginLink && loginLink.parentElement) {
              const li = loginLink.parentElement;
              const name = user.user_metadata.full_name || 'User';
              const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=0099ff&color=fff`;
    
              // Replace Login Link with Simple Dark Dropdown
              li.innerHTML = `
    
                    `;
    
    
              // Load Custom Profile Picture if exists
              const storedAvatar = localStorage.getItem('be_avatar_' + user.id);
              if (storedAvatar) {
                const avatarImg = li.querySelector('#navbar-avatar-img');
                if (avatarImg) avatarImg.src = storedAvatar;
              }
    
              // Logout Handler
              document.getElementById('nav-dropdown-logout', 'mobile-logout-btn').addEventListener('click', async (e) => {
                e.preventDefault();
    
                // Create the actual logout function
                const performLogout = async () => {
                  await DB.signOut();
                  window.location.reload();
                };
    
                // Use custom modal if available, otherwise fallback to native confirm
                if (window.LogoutModal && typeof window.LogoutModal.confirm === 'function') {
                  window.LogoutModal.confirm(performLogout);
                } else if (window.showLogoutConfirmation && typeof window.showLogoutConfirmation === 'function') {
                  window.showLogoutConfirmation(performLogout);
                } else {
                  // Fallback to native confirm
                  if (confirm('Are you sure you want to logout?')) {
                    await performLogout();
                  }
                }
              });
    
              // Dropdown Toggle
              // Dropdown Toggle (Desktop)
              const trigger = li.querySelector('.nav-profile-trigger');
              const menu = li.querySelector('.nav-profile-menu');
    
              if (trigger && menu) {
                trigger.addEventListener('click', (e) => {
                  e.stopPropagation();
                  menu.classList.toggle('active');
                });
    
                document.addEventListener('click', (e) => {
                  if (!li.contains(e.target)) {
                    menu.classList.remove('active');
                  }
                });
              }
            }
    
            // --- Mobile Sidebar Injection (Redesigned) ---
            const sidebarHeader = document.querySelector('.sidebar-header');
            const sidebarFooter = document.querySelector('.sidebar-footer');
            const sidebarLoginLink = document.getElementById('sidebar-login-link');

            if (sidebarHeader && sidebarFooter) {
              // 1. Update Header with User Info
              const name = user.user_metadata.full_name || 'User';
              const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=0099ff&color=fff`;

              // Replace the "default-brand" part with User Profile
              const brandContainer = sidebarHeader.querySelector('.header-brand');
              if (brandContainer) {
                brandContainer.innerHTML = `
                  <img src="${avatarUrl}" class="sidebar-avatar" alt="Profile" id="mobile-avatar-img">
                  <div class="user-info">
                      <span class="user-name">Hello, ${name}</span>
                      <span class="user-status">Member</span>
                  </div>
                `;
              }

              // 2. Hide "Login" Wrapper
              const loginWrapper = document.getElementById('sidebar-login-container');
              if (loginWrapper) loginWrapper.style.display = 'none';


              // Sync Custom Avatar
              const storedAvatar = localStorage.getItem('be_avatar_' + user.id);
              if (storedAvatar) {
                const mAvatar = sidebarHeader.querySelector('#mobile-avatar-img');
                if (mAvatar) mAvatar.src = storedAvatar;
              }
            }

            // --- Mobile Pill Navbar Toggle ---
            const signupBtn = document.getElementById('Hide/UnhideSignupBtn');
            const userIcon = document.getElementById('Hide/UnhideUserIcon');
            if (signupBtn) signupBtn.style.display = 'none';
            if (userIcon) userIcon.style.display = 'block';
          } else {
            // When not signed in, show signup, hide user icon
            const signupBtn = document.getElementById('Hide/UnhideSignupBtn');
            const userIcon = document.getElementById('Hide/UnhideUserIcon');
            if (signupBtn) signupBtn.style.display = 'block';
            if (userIcon) userIcon.style.display = 'none';
          }
        };
    
        // Run Immediately or Wait
        if (window.DB) {
          initAuthUI();
        } else {
          document.addEventListener('dbReady', initAuthUI);
        }
      </script>
    
      
    
    
      <!-- Toast Container -->
      <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-2"></div>
    
    
      <!-- FOOTER -->
      <footer class="site-footer">
        <div class="footer-container">
          <!-- Brand Section -->
          <div class="footer-section">
            <div class="footer-logo"><a href="index.html">
                <div class="navbar-logo"><img src="assets/BlueEmber-ezgif.com-gif-maker.gif" style="width: 30px;">
                  <SPAN>
                    <h6 style="color: #0099ff; font-size: large; margin: 0px 0px -6px 0px;">BLUE</h6>
                    <H6 style="color: #000000; font-size: large; margin: 0px 0px -6px 0px;">EMBER</H6>
                  </SPAN>
                </div>
              </a></div>
            <p class="footer-tagline">Premium Store from trusted global brands. Serving customers since 2005.</p>
          </div>
    
          <!-- Quick Links -->
          <div class="footer-section">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="terms and services.html">Terms & Services</a></li>
              <li><a href="privacy policy.html">Privacy Policy</a></li>
              <li><a href="Contact.html">Contact</a></li>
              <li><a href="Refund and Exchange.html">Refund & Exchange</a></li>
              <li><a href="About us .html">About Us</a></li>
            </ul>
          </div>
    
          <!-- Categories -->
          <div class="footer-section">
            <h4>Categories</h4>
            <ul>
              <li><a href="product2.html">Toys</a></li>
              <li><a href="product2.html">Supplyments</a></li>
              <li><a href="product2.html">Beauty</a></li>
              <li><a href="product2.html">HomeGoods</a></li>
            </ul>
          </div>
    
          <!-- Contact Info -->
          <div class="footer-section">
            <h4>Contact Us</h4>
            <ul>
              <li>
                <a>
                  <address>
                    <p><a href="https://maps.app.goo.gl/BGBAUvaKPHLhTqvh6">Hasbrouck Heights NJ 07604 USA</a>
                    </p>
                    <i class="fa-solid fa-phone-volume" style="color:rgb(0, 89, 255)"></i> +1 (800) 123-4567<br>
                    <i class="fa-solid fa-envelope" style="color:rgb(0, 89, 255)"></i> <a
                      href="mailto:info.blueember@gmail.com">info.blueember@gmail.com</a>
                  </address>
                </a>
              </li>
            </ul>
          </div>
        </div>
    
        <div class="footer-bottom">
          <p>&copy; 2025 Blue Ember Store. All rights reserved.</p>
          <div class="footer-legal">
            <a href="privacy policy.html">Privacy Policy</a> 
            <a href="terms and services.html">Terms of Service</a> 
          </div>
        </div>
      </footer>
    
    
      <script>
    
    
        document.addEventListener('DOMContentLoaded', function () {
          // New Collapsible Logic for Sidebar
          const collapsibles = document.querySelectorAll('.sidebar-collapsible');
          collapsibles.forEach(col => {
            const btn = col.querySelector('.collapsible-trigger');
            btn.addEventListener('click', () => {
              // Close others (accordion style - optional)
              // collapsibles.forEach(c => { if(c !== col) c.classList.remove('open'); });
    
              col.classList.toggle('open');
            });
          });
    
          // Dropdown toggle functionality for Categories and Brands
          const dropdownItems = document.querySelectorAll('.mobile-dropdown-item');
          dropdownItems.forEach(item => {
            const toggleBtn = item.querySelector('.split-button.single-toggle-action');
            const dropdown = item.querySelector('.mobile-dropdown');
    
            if (toggleBtn && dropdown) {
              toggleBtn.addEventListener('click', (e) => {
                e.stopPropagation();
    
                // Close other dropdowns
                dropdownItems.forEach(otherItem => {
                  if (otherItem !== item) {
                    otherItem.classList.remove('active');
                  }
                });
    
                // Toggle current dropdown
                item.classList.toggle('active');
              });
            }
          });
    
          // Close dropdowns when clicking outside
          document.addEventListener('click', (e) => {
            dropdownItems.forEach(item => {
              if (!item.contains(e.target)) {
                item.classList.remove('active');
              }
            });
          });
    
          // Mobile Menu Toggle (Hamburger)
          const hamburger = document.getElementById('hamburger');
          const mobileMenu = document.getElementById('mobileMenu');
          const closeBtn = document.getElementById('closeBtn');
    
          if (hamburger && mobileMenu) {
            hamburger.addEventListener('click', () => {
              mobileMenu.classList.add('active');
            });
          }
    
          if (closeBtn && mobileMenu) {
            closeBtn.addEventListener('click', () => {
              mobileMenu.classList.remove('active');
            });
          }
    
          // Close on Outside Click
          document.addEventListener('click', (e) => {
            if (mobileMenu && mobileMenu.classList.contains('active')) {
              if (!mobileMenu.contains(e.target) && !hamburger.contains(e.target)) {
                mobileMenu.classList.remove('active');
              }
            }
          });
    
          // Newsletter Form Functionality
          const newsletterForm = document.querySelector('.newsletter-form');
          const emailInput = newsletterForm?.querySelector('input[type="email"]');
          const submitBtn = newsletterForm?.querySelector('button');
    
          if (newsletterForm && emailInput && submitBtn) {
            newsletterForm.addEventListener('submit', async function (e) {
              e.preventDefault();
    
              const email = emailInput.value.trim();
    
              // Basic email validation
              const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    
              if (!email) {
                showToast('Please enter your email address', 'error');
                emailInput.focus();
                return;
              }
    
              if (!emailRegex.test(email)) {
                showToast('Please enter a valid email address', 'error');
                emailInput.focus();
                return;
              }
    
              // Show loading state with spinner
              submitBtn.classList.add('loading');
              submitBtn.disabled = true;
    
              try {
                // Simulate API call with 2.8 second delay
                await new Promise(resolve => setTimeout(resolve, 2800));
    
                // Success
                showToast('Subscribed successfully!', 'success');
                emailInput.value = '';
    
                // Optional: Track subscription event
                if (typeof gtag !== 'undefined') {
                  gtag('event', 'newsletter_signup', {
                    event_category: 'engagement',
                    event_label: 'newsletter_subscription'
                  });
                }
    
              } catch (error) {
                showToast('Something went wrong. Please try again.', 'error');
              } finally {
                // Restore button state
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
              }
            });
    
            // Real-time email validation
            emailInput.addEventListener('input', function () {
              const email = this.value.trim();
              const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    
              if (email && !emailRegex.test(email)) {
                this.style.borderColor = '#ef4444';
              } else {
                this.style.borderColor = '';
              }
            });
          }
    
          // Toast notification function
          function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toast-container');
            if (!toastContainer) return;
    
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
              <div class="toast-content">
                <span class="toast-message">${message}</span>
                <button class="toast-close" aria-label="Close">&times;</button>
              </div>
            `;
    
            // Add toast styles if not already present
            if (!document.querySelector('#toast-styles')) {
              const style = document.createElement('style');
              style.id = 'toast-styles';
              style.textContent = `
                .toast {
                  background: white;
                  border-radius: 8px;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                  margin-bottom: 8px;
                  min-width: 300px;
                  opacity: 0;
                  transform: translateX(100%);
                  transition: all 0.3s ease;
                }
                .toast.show {
                  opacity: : translateX(1;
                  transform0);
                }
                .toast-success { border-left: 4px solid #10b981; }
                .toast-error { border-left: 4px solid #ef4444; }
                .toast-info { border-left: 4px solid #3b82f6; }
                .toast-content {
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding: 12px 16px;
                }
                .toast-message {
                  color: #374151;
                  font-size: 14px;
                }
                .toast-close {
                  background: none;
                  border: none;
                  color: #6b7280;
                  cursor: pointer;
                  font-size: 18px;
                  padding: 0;
                  margin-left: 12px;
                }
              `;
              document.head.appendChild(style);
            }
    
            toastContainer.appendChild(toast);
    
            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);
    
            // Auto remove after 5 seconds
            const autoRemove = setTimeout(() => removeToast(toast), 5000);
    
            // Manual close
            toast.querySelector('.toast-close').addEventListener('click', () => {
              clearTimeout(autoRemove);
              removeToast(toast);
            });
    
            function removeToast(toastElement) {
              toastElement.classList.remove('show');
              setTimeout(() => {
                if (toastElement.parentNode) {
                  toastElement.parentNode.removeChild(toastElement);
                }
              }, 300);
            }
          }
        });
      </script>
    </body>

</html>


